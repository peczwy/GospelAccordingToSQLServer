-- TURN OFF THE FOREIGN KEY
IF EXISTS (SELECT * FROM sys.objects WHERE type = 'F' AND name = '?' AND object_id = OBJECT_ID('?'))
BEGIN
	ALTER TABLE ?
	DROP CONSTRAINT ?
END

-- DROP THE CLUSTERED INDEX
IF EXISTS (SELECT * FROM sys.indexes WHERE name = '?' AND type_desc = 'CLUSTERED' AND object_id = OBJECT_ID('?'))
BEGIN
	ALTER TABLE ? 
	DROP CONSTRAINT [?]
END

-- CREATE NEW CLUSTERED INDEX
IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = '?' AND type_desc = 'CLUSTERED' AND object_id = OBJECT_ID('?'))
BEGIN
	CREATE UNIQUE CLUSTERED INDEX ? ON ?
	(
		-- DEFINITION
	)
END

-- CREATE NEW PRIMARY KEY (ON [Id] COLUMN)
IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = '?' AND type_desc = 'NONCLUSTERED' AND object_id = OBJECT_ID('?]'))
BEGIN
	ALTER TABLE ? 
	ADD CONSTRAINT ? 
	PRIMARY KEY NONCLUSTERED ([Id] ASC)
END

-- TURN ON THE FOREIGN KEY
IF NOT EXISTS (SELECT * FROM sys.objects WHERE type = 'F' AND name = '?' AND object_id = OBJECT_ID('?'))
BEGIN
	ALTER TABLE ? WITH CHECK
	ADD CONSTRAINT ? FOREIGN KEY(?)
	REFERENCES ? (Id)
END